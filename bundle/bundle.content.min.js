var componentHandler={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(componentHandler=function(){"use strict";function e(e,t){for(var s=0;s<a.length;s++)if(a[s].className===e)return void 0!==t&&(a[s]=t),a[s];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,s){return-1!==t(e).indexOf(s)}function n(e,t,s){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:s});var n=document.createEvent("Events");return n.initEvent(e,t,s),n}function r(t,s){if(void 0===t&&void 0===s)for(var n=0;n<a.length;n++)r(a[n].className,a[n].cssClass);else{var o=t;if(void 0===s){var l=e(o);l&&(s=l.cssClass)}for(var c=document.querySelectorAll("."+s),d=0;d<c.length;d++)i(c[d],o)}}function i(r,i){if(!("object"==typeof r&&r instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var o=n("mdl-componentupgrading",!0,!0);if(r.dispatchEvent(o),!o.defaultPrevented){var d=t(r),p=[];if(i)s(r,i)||p.push(e(i));else{var u=r.classList;a.forEach(function(e){u.contains(e.cssClass)&&-1===p.indexOf(e)&&!s(r,e.className)&&p.push(e)})}for(var h,m=0,f=p.length;m<f;m++){if(!(h=p[m]))throw new Error("Unable to find a registered component for the given class.");d.push(h.className),r.setAttribute("data-upgraded",d.join(","));var g=new h.classConstructor(r);g[c]=h,l.push(g);for(var _=0,v=h.callbacks.length;_<v;_++)h.callbacks[_](r);h.widget&&(r[h.className]=g);var C=n("mdl-componentupgraded",!0,!1);r.dispatchEvent(C)}}}function o(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var t,s=0,n=e.length;s<n;s++)(t=e[s])instanceof HTMLElement&&(i(t),t.children.length>0&&o(t.children))}var a=[],l=[],c="mdlComponentConfigInternal_";return{upgradeDom:r,upgradeElement:i,upgradeElements:o,upgradeAllRegistered:function(){for(var e=0;e<a.length;e++)r(a[e].className)},registerUpgradedCallback:function(t,s){var n=e(t);n&&n.callbacks.push(s)},register:function(t){var s=!0;void 0===t.widget&&void 0===t.widget||(s=t.widget||t.widget);var n={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:s,callbacks:[]};if(a.forEach(function(e){if(e.cssClass===n.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===n.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(c))throw new Error("MDL component classes must not have "+c+" defined as a property.");e(t.classAsString,n)||a.push(n)},downgradeElements:function(e){var t=function(e){l.filter(function(t){return t.element_===e}).forEach(function(e){if(e){var t=l.indexOf(e);l.splice(t,1);var s=e.element_.getAttribute("data-upgraded").split(","),r=s.indexOf(e[c].classAsString);s.splice(r,1),e.element_.setAttribute("data-upgraded",s.join(","));var i=n("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(i)}})};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)t(e[s]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}}}()).ComponentConfigPublic,componentHandler.ComponentConfig,componentHandler.Component,componentHandler.upgradeDom=componentHandler.upgradeDom,componentHandler.upgradeElement=componentHandler.upgradeElement,componentHandler.upgradeElements=componentHandler.upgradeElements,componentHandler.upgradeAllRegistered=componentHandler.upgradeAllRegistered,componentHandler.registerUpgradedCallback=componentHandler.registerUpgradedCallback,componentHandler.register=componentHandler.register,componentHandler.downgradeElements=componentHandler.downgradeElements,window.componentHandler=componentHandler,window.componentHandler=componentHandler,window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),componentHandler.upgradeAllRegistered()):(componentHandler.upgradeElement=function(){},componentHandler.register=function(){})}),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSelectfield=e,e.prototype.Constant_={},e.prototype.CssClasses_={LABEL:"mdl-selectfield__label",SELECT:"mdl-selectfield__select",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty()},e.prototype.checkDisabled=function(){this.select_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkValidity=function(){this.select_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID)},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.select_.value&&this.select_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.select_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.select_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){e&&(this.select_.value=e),this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.select_=this.element_.querySelector("."+this.CssClasses_.SELECT),this.select_)){this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.select_.addEventListener("change",this.boundUpdateClassesHandler),this.select_.addEventListener("focus",this.boundFocusHandler),this.select_.addEventListener("blur",this.boundBlurHandler),this.select_.addEventListener("reset",this.boundResetHandler);var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID)}},e.prototype.mdlDowngrade_=function(){this.select_.removeEventListener("change",this.boundUpdateClassesHandler),this.select_.removeEventListener("focus",this.boundFocusHandler),this.select_.removeEventListener("blur",this.boundBlurHandler),this.select_.removeEventListener("reset",this.boundResetHandler)},componentHandler.register({constructor:e,classAsString:"MaterialSelectfield",cssClass:"mdl-js-selectfield",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialTooltip=e,e.prototype.Constant_={},e.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},e.prototype.handleMouseEnter_=function(e){var t=e.target.getBoundingClientRect(),s=t.left+t.width/2,n=t.top+t.height/2,r=this.element_.offsetWidth/2*-1,i=this.element_.offsetHeight/2*-1;this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(s=t.width/2,n+i<0?(this.element_.style.top="0",this.element_.style.marginTop="0"):(this.element_.style.top=n+"px",this.element_.style.marginTop=i+"px")):s+r<0?(this.element_.style.left="0",this.element_.style.marginLeft="0"):(this.element_.style.left=s+"px",this.element_.style.marginLeft=r+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=t.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=t.left+t.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=t.left-this.element_.offsetWidth-10+"px":this.element_.style.top=t.top+t.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},e.prototype.hideTooltip_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},e.prototype.init=function(){if(this.element_){var e=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for");e&&(this.forElement_=document.getElementById(e)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveAndScrollHandler=this.hideTooltip_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveAndScrollHandler,!1),window.addEventListener("scroll",this.boundMouseLeaveAndScrollHandler,!0),window.addEventListener("touchstart",this.boundMouseLeaveAndScrollHandler))}},componentHandler.register({constructor:e,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}(),function(){!function(e){var t={};chrome.storage.sync.get("learnjavascriptmarks",function(s){var n=s.learnjavascriptmarks;chrome.storage.sync.get("learnjavascriptoptions",function(s){var r=s.learnjavascriptoptions;if(n&&r){t.marks=JSON.parse(n),r=JSON.parse(r);for(var i in r)t[i]=r[i];e(t)}else e(!1)})})}(function(e){console.log(e)});var e=["S","?","!","&#10003;","&#9733;"],t={pallete:["color: #000; background-color: #fff","color: #fff; background-color: #2196F3","color: #fff; background-color: #f44336","color: #fff; background-color: #4caf50","color: #ffffff; background-color: #ffc107"],desc:["Выбрать","Не все ясно","Важно","Усвоено","Прочитано"],progress:[]},s=[3e5];chrome.storage.sync.get("learnjavascriptmarks",function(n){n.learnjavascriptmarks?e=JSON.parse(n.learnjavascriptmarks):chrome.storage.sync.set({learnjavascriptmarks:JSON.stringify(e)}),chrome.storage.sync.get("learnjavascriptoptions",function(n){if(n.learnjavascriptoptions){var r=JSON.parse(n.learnjavascriptoptions);t=JSON.parse(n.learnjavascriptoptions),chrome.storage.sync.set({learnjavascriptoptions:JSON.stringify(t)}),r.progress?t=JSON.parse(n.learnjavascriptoptions):(r.progress=t.progress,t=r)}else chrome.storage.sync.set({learnjavascriptoptions:JSON.stringify(t)});setTimeout(function(){!function(e,t,s,n,r,i,o){function a(){l=t.querySelectorAll(s)}var l=null,c={addControls:function(e,s,n){var r=this,i=!!s.progress[0];[].forEach.call(l,function(o,a,l){var c=t.createElement("div"),d=t.createElement("select"),p=null,u="parent_"+a,h=t.createElement("label");c.className="mdl-selectfield mdl-selectfield--mini mdl-js-selectfield mdl-selectfield--floating-label";var m=t.createElement("div");m.className="mdl-tooltip",m.setAttribute("data-mdl-for","s_"+a),d.id="s_"+a,d.className="mdl-selectfield__select",h.className="mdl-selectfield__label",h.for="s_"+a,e.forEach(function(e,s){(p=t.createElement("option")).value=s,p.innerHTML=e,d.appendChild(p)}),setTimeout(function(){componentHandler.upgradeElement(m)},0),c.appendChild(d),c.appendChild(h),c.appendChild(m),componentHandler.upgradeElement(c),o.firstElementChild.insertAdjacentElement("beforebegin",c),o.style.display="flex",o.style.alignItems="baseline",o.style.flexWrap="wrap",o.children[1].style.width="calc(100% - 77px)",o.querySelector("ul").style.width="100%",o.querySelector("ul").style.padding="7px 0",c.style.marginRight="10px",o.id=u,chrome.storage.sync.get(u,function(e){var t=e[u];r.selectMark(d,t,s,i,o,n[a]),t?t>d.options.length-1?(r.setSectIndexValue(u,0),m.textContent=s.desc[0]):m.textContent=s.desc[t]:m.textContent=s.desc[0],l.length-1==a&&chrome.storage.local.set({learnjavascriptoptions:JSON.stringify(s)})})})},initProgressHash:function(e,t,s){var n={url:t.href?t.href.replace(/.+\.ru\//,""):"",learned:!1,scrolled:0,must_scroll:0,time_spent:0,time_must_spend:s||0};e.progress.push(n)},selectMark:function(e,t,s,n,r,i){var o=r.querySelector(".tutorial-map-list-three__link");n||this.initProgressHash(s,o,i),t&&"0"!=t&&(e.options[t]?(e.options.selectedIndex=t,e.setAttribute("style",s.pallete[t])):e.options.selectedIndex=0)},selectChange:function(e){var s=this;t.addEventListener("change",function(t){var n=t.target;"SELECT"==n.tagName&&(s.setSectIndexValue(n.parentNode.parentNode.id,n.value),n.setAttribute("style",e.pallete[n.value]),n.parentNode.querySelector(".mdl-tooltip").textContent=e.desc[n.value])})},setSectIndexValue:function(e,t){var s={};s[e]=t,chrome.storage.sync.set(s)},addProgress:function(e){var s=this;e=t.querySelectorAll(e)[0];var n=t.createElement("div");n.id="p1",n.className="mdl-progress mdl-js-progress",componentHandler.upgradeElement(n),e.insertAdjacentElement("afterend",n),setTimeout(function(){s.setProgress(n,50)},800)},setProgress:function(e,t){e.firstElementChild.style.width=t+"%"}};e.location.search==r&&(a(),i(c)),t.addEventListener("click",function(e){var t=e.target;/^map/.test(t.className)&&setTimeout(function(){a(),i(c)},o)})}(window,document,".tutorial-map-list-three__item",0,"?map",function(n){n.addControls(e,t,s),n.selectChange(t),n.addProgress(".tutorial-map-list__title")},1e3)},1e3)})})}();